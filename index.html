<style>
.bar-container {
	margin: 2px 0;
}
</style>

<textarea id="numbers">10
20
30
50
90
40</textarea>
<hr />
<div id="bars"></div>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script>
<script src="pnglib.js"></script>
<script>
var imageData = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAAAAACH5BAAAAAAALAAAAAABAAEAAAICTAEAOw==";
var $numbers = $('#numbers');
var $bars = $('#bars');

$numbers.on('input propertychange', function () {
	var numbers = $(this).val().split('\n').map(function (n) { return parseFloat(n) });
	var min = numbers.slice().sort(function (a, b) { return a-b })[0];
	min = 0; // overruled!
	var max = numbers.slice().sort(function (a, b) { return b-a })[0];
	var barmin = 3, barmax = 200;
	$bars.empty();
	setTimeout(function () {
	numbers.forEach(function (n) {
		var $container = $('<div />').addClass('bar-container').appendTo($bars);
		$container.append(barImage(barmin + (n - min) / (max - min) * (barmax - barmin), 10));
	});
	}, 30);
});
$numbers.trigger('input');

function barImage(width, height) {
	var p = new PNGlib(Math.round(width), Math.round(height), 256); // construcor takes height, weight and color-depth
	p.color(50, 50, 50, 50); // set the background
	return $('<img />').attr('src', 'data:image/png;base64,'+p.getBase64());
	//document.write('<img src="data:image/png;base64,'+p.getBase64()+'">');
}

</script>
